{"ast":null,"code":"import _objectSpread from\"D:/Projects/React/Portfolio/GeneralStore/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Projects/React/Portfolio/GeneralStore/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{NavLink,Link}from\"react-router-dom\";import{useAuth}from\"../../context/auth\";import toast from\"react-hot-toast\";import useCategory from\"../../hooks/useCategory\";import{useCart}from\"../../context/cart\";import{Badge}from\"antd\";import styles from\"./Header.module.scss\";// import css from \"../../styles/Homepage.css\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var logo=/*#__PURE__*/_jsx(\"div\",{className:styles.logo,children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"General\",/*#__PURE__*/_jsx(\"span\",{children:\"Store\"})]})})});var Header=function Header(){var _auth$user,_auth$user2;var _useAuth=useAuth(),_useAuth2=_slicedToArray(_useAuth,2),auth=_useAuth2[0],setAuth=_useAuth2[1];var _useCart=useCart(),_useCart2=_slicedToArray(_useCart,1),cart=_useCart2[0];var categories=useCategory();var handleLogout=function handleLogout(){setAuth(_objectSpread(_objectSpread({},auth),{},{user:null,token:\"\"}));localStorage.removeItem(\"auth\");toast.success(\"Logout Successfully\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg bg-body-tertiary fixed-top navSize\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[logo,/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"nav-link \",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/shop\",className:\"nav-link \",children:\"Shop\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(Link,{className:\"nav-link dropdown-toggle\",to:\"/categories\",\"data-bs-toggle\":\"dropdown\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/categories\",children:\"All Categories\"})}),categories===null||categories===void 0?void 0:categories.map(function(c){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/category/\".concat(c.slug),children:c.name})});})]})]}),!(auth!==null&&auth!==void 0&&auth.user)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/register\",className:\"nav-link\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"nav-link\",children:\"Login\"})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-link dropdown-toggle\",href:\"#\",role:\"button\",\"data-bs-toggle\":\"dropdown\",style:{border:\"none\"},children:auth===null||auth===void 0?void 0:(_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.name}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/dashboard/\".concat((auth===null||auth===void 0?void 0:(_auth$user2=auth.user)===null||_auth$user2===void 0?void 0:_auth$user2.role)===1?\"admin\":\"user\"),className:\"dropdown-item\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{onClick:handleLogout,to:\"/login\",className:\"dropdown-item\",children:\"Logout\"})})]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/cart\",className:\"nav-link\",children:/*#__PURE__*/_jsx(Badge,{count:cart===null||cart===void 0?void 0:cart.length,showZero:true,offset:[10,-5],children:/*#__PURE__*/_jsx(\"span\",{className:\"cartName\",children:\"Cart\"})})})})]})]})})})});};export default Header;","map":{"version":3,"names":["React","NavLink","Link","useAuth","toast","useCategory","useCart","Badge","styles","logo","Header","auth","setAuth","cart","categories","handleLogout","user","token","localStorage","removeItem","success","header","map","c","slug","name","border","role","length"],"sources":["D:/Projects/React/Portfolio/GeneralStore/client/src/components/Layout/Header.js"],"sourcesContent":["import React from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport toast from \"react-hot-toast\";\r\nimport useCategory from \"../../hooks/useCategory\";\r\nimport { useCart } from \"../../context/cart\";\r\nimport { Badge } from \"antd\";\r\nimport styles from \"./Header.module.scss\";\r\n// import css from \"../../styles/Homepage.css\";\r\nexport const logo = (\r\n  <div className={styles.logo}>\r\n    <Link to=\"/\">\r\n      <h2>\r\n        General<span>Store</span>\r\n      </h2>\r\n    </Link>\r\n  </div>\r\n);\r\n\r\nconst Header = () => {\r\n  const [auth, setAuth] = useAuth();\r\n  const [cart] = useCart();\r\n  const categories = useCategory();\r\n  const handleLogout = () => {\r\n    setAuth({\r\n      ...auth,\r\n      user: null,\r\n      token: \"\",\r\n    });\r\n    localStorage.removeItem(\"auth\");\r\n    toast.success(\"Logout Successfully\");\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <header>\r\n        <nav className=\"navbar navbar-expand-lg bg-body-tertiary fixed-top navSize\">\r\n          {/* <div className=\"container-fluid\">\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarTogglerDemo01\"\r\n            aria-controls=\"navbarTogglerDemo01\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\" />\r\n          </button> */}\r\n          {/* <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\"> */}\r\n          <div className={styles.header}>\r\n\r\n            {logo}\r\n\r\n            <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\r\n              {/* <SearchInput /> */}\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/\" className=\"nav-link \">\r\n                  Home\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/shop\" className=\"nav-link \">\r\n                  Shop\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item dropdown\">\r\n                <Link\r\n                  className=\"nav-link dropdown-toggle\"\r\n                  to={\"/categories\"}\r\n                  data-bs-toggle=\"dropdown\"\r\n                >\r\n                  Categories\r\n                </Link>\r\n                <ul className=\"dropdown-menu\">\r\n                  <li>\r\n                    <Link className=\"dropdown-item\" to={\"/categories\"}>\r\n                      All Categories\r\n                    </Link>\r\n                  </li>\r\n                  {categories?.map((c) => (\r\n                    <li>\r\n                      <Link\r\n                        className=\"dropdown-item\"\r\n                        to={`/category/${c.slug}`}\r\n                      >\r\n                        {c.name}\r\n                      </Link>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </li>\r\n\r\n              {!auth?.user ? (\r\n                <>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink to=\"/register\" className=\"nav-link\">\r\n                      Register\r\n                    </NavLink>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink to=\"/login\" className=\"nav-link\">\r\n                      Login\r\n                    </NavLink>\r\n                  </li>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <li className=\"nav-item dropdown\">\r\n                    <NavLink\r\n                      className=\"nav-link dropdown-toggle\"\r\n                      href=\"#\"\r\n                      role=\"button\"\r\n                      data-bs-toggle=\"dropdown\"\r\n                      style={{ border: \"none\" }}\r\n                    >\r\n                      {auth?.user?.name}\r\n                    </NavLink>\r\n                    <ul className=\"dropdown-menu\">\r\n                      <li>\r\n                        <NavLink\r\n                          to={`/dashboard/${auth?.user?.role === 1 ? \"admin\" : \"user\"\r\n                            }`}\r\n                          className=\"dropdown-item\"\r\n                        >\r\n                          Dashboard\r\n                        </NavLink>\r\n                      </li>\r\n                      <li>\r\n                        <NavLink\r\n                          onClick={handleLogout}\r\n                          to=\"/login\"\r\n                          className=\"dropdown-item\"\r\n                        >\r\n                          Logout\r\n                        </NavLink>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                </>\r\n              )}\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/cart\" className=\"nav-link\">\r\n                  <Badge count={cart?.length} showZero offset={[10, -5]}>\r\n                    <span className=\"cartName\">Cart</span>\r\n                  </Badge>\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          {/* </div> */}\r\n          {/* </div> */}\r\n\r\n        </nav>\r\n      </header>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}