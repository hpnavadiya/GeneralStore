{"ast":null,"code":"import React, { useEffect, useRef } from 'react';\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport DomWrapper from \"./wapper\";\nvar defOptions = {\n  subtree: true,\n  childList: true,\n  attributeFilter: ['style', 'class']\n};\nvar MutateObserver = function MutateObserver(props) {\n  var children = props.children,\n    _props$options = props.options,\n    options = _props$options === void 0 ? defOptions : _props$options,\n    _props$onMutate = props.onMutate,\n    onMutate = _props$onMutate === void 0 ? function () {} : _props$onMutate;\n  var callback = useEvent(onMutate);\n  var wrapperRef = useRef(null);\n  var elementRef = React.useRef(null);\n  var canRef = /*#__PURE__*/React.isValidElement(children) && supportRef(children);\n  var originRef = canRef ? children === null || children === void 0 ? void 0 : children.ref : null;\n  var mergedRef = React.useMemo(function () {\n    return composeRef(originRef, elementRef);\n  }, [originRef, elementRef]);\n  useEffect(function () {\n    if (!canUseDom()) {\n      return;\n    }\n    var instance;\n    var currentElement = findDOMNode(originRef === null || originRef === void 0 ? void 0 : originRef.current) || findDOMNode(wrapperRef === null || wrapperRef === void 0 ? void 0 : wrapperRef.current);\n    if (currentElement && 'MutationObserver' in window) {\n      instance = new MutationObserver(callback);\n      instance.observe(currentElement, options);\n    }\n    return function () {\n      var _instance, _instance2;\n      (_instance = instance) === null || _instance === void 0 ? void 0 : _instance.takeRecords();\n      (_instance2 = instance) === null || _instance2 === void 0 ? void 0 : _instance2.disconnect();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, originRef]);\n  if (!children) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('MutationObserver need children props');\n    }\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(children, {\n    ref: mergedRef\n  }) : children);\n};\nexport default MutateObserver;","map":{"version":3,"names":["React","useEffect","useRef","composeRef","supportRef","findDOMNode","canUseDom","useEvent","DomWrapper","defOptions","subtree","childList","attributeFilter","MutateObserver","props","children","_props$options","options","_props$onMutate","onMutate","callback","wrapperRef","elementRef","canRef","isValidElement","originRef","ref","mergedRef","useMemo","instance","currentElement","current","window","MutationObserver","observe","_instance","_instance2","takeRecords","disconnect","process","env","NODE_ENV","console","error","createElement","cloneElement"],"sources":["D:/Projects/React/Portfolio/GeneralStore/client/node_modules/@rc-component/mutate-observer/es/index.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport DomWrapper from \"./wapper\";\nvar defOptions = {\n  subtree: true,\n  childList: true,\n  attributeFilter: ['style', 'class']\n};\n\nvar MutateObserver = function MutateObserver(props) {\n  var children = props.children,\n      _props$options = props.options,\n      options = _props$options === void 0 ? defOptions : _props$options,\n      _props$onMutate = props.onMutate,\n      onMutate = _props$onMutate === void 0 ? function () {} : _props$onMutate;\n  var callback = useEvent(onMutate);\n  var wrapperRef = useRef(null);\n  var elementRef = React.useRef(null);\n  var canRef = /*#__PURE__*/React.isValidElement(children) && supportRef(children);\n  var originRef = canRef ? children === null || children === void 0 ? void 0 : children.ref : null;\n  var mergedRef = React.useMemo(function () {\n    return composeRef(originRef, elementRef);\n  }, [originRef, elementRef]);\n  useEffect(function () {\n    if (!canUseDom()) {\n      return;\n    }\n\n    var instance;\n    var currentElement = findDOMNode(originRef === null || originRef === void 0 ? void 0 : originRef.current) || findDOMNode(wrapperRef === null || wrapperRef === void 0 ? void 0 : wrapperRef.current);\n\n    if (currentElement && 'MutationObserver' in window) {\n      instance = new MutationObserver(callback);\n      instance.observe(currentElement, options);\n    }\n\n    return function () {\n      var _instance, _instance2;\n\n      (_instance = instance) === null || _instance === void 0 ? void 0 : _instance.takeRecords();\n      (_instance2 = instance) === null || _instance2 === void 0 ? void 0 : _instance2.disconnect();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, originRef]);\n\n  if (!children) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('MutationObserver need children props');\n    }\n\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(children, {\n    ref: mergedRef\n  }) : children);\n};\n\nexport default MutateObserver;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}